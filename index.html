<!DOCTYPE html>
<html lang="en">

    <head>
        <link rel="icon" href="pictures/favicon.png" type="image/x-icon">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Chinalternative</title>
        <link href="https://fonts.googleapis.com/css2?family=Nova+Mono&family=Poppins:wght@600&family=Roboto:wght@300;500&family=Staatliches&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="styles/main.css">         
    </head>

    <body>
        
        <div class="border" id='border1'>
        <div class="border" id='border2'>
        <div class="border" id='border3'>
        

        <div class="col-9">
            <img alt="Jai Hind!" title="Jai Hind!" src="https://lh3.googleusercontent.com/9OwglHZJK8jwV3qtcfmNLd4Y20p_LIxm7gwE-3nYDVRYzp0IRuBSn8pE5onw2JnnGQ" 
            height="100px" width="100px" align="left">
            <h5 style="color: orange; width: 100%; font-family: 'Roboto', sans-serif; font-size: 1.4em; margin: auto; line-height: 100px;">A DELHI PUBLIC SCHOOL PUNE PROJECT</h5>
        </div>

        <div class="switch col-3" style="line-height: 100px; margin: auto;">
            <span align='center'>Light Mode : &nbsp;&nbsp;&nbsp;&nbsp;</span>
                         
            <span align='center'><button class="inner-switch" onclick="darkMode()">Toggle</button></span>
        </div>

        <hr color="orange"></hr>

        <h2 class="col-12">We are going to help you find alternatives to your chinese product.</h2> <br>

        <p class="col-12">To proceed, fill in the details required in the boxes below and you will receive your alternatives in the next two sections.</p>

        <!-- Start of Form for the products -->

        

        <!-- <div class="form_headings"> -->
        <div class="col-12 tablefixer form_headings">
            <!-- New Row -->
            <div class="col-5">
                Category of Chinese Product 
            </div> 
            <div class="col-1">
                :
            </div>
            <div class="col-6">
                <select id ='category'></select>
            </div>
        </div>
        <div class="col-12 tablefixer form_headings">
            <!-- New Row -->
            <div class="col-5">
                Name of Chinese Product
            </div>
            <div class="col-1">
                :
            </div> 
            <div class="col-6">
                <select id ='app_name'></select>
            </div>
        </div>

        <div class="col-12 form_headings" style="text-align: center;">
            <button id='submit'>Submit</button></h3>
        </div>
        <!-- </div>         -->

        <!-- End of Form -->
        <!-- Start of Table for displaying results -->

        <div class="col-12 tablefixer">
            <table align="center" >
                <col width='50%'>
                <col width='50%'>
                <thead>
                    <tr>
                        <th>Chinese Product</th> 
                        <th>Recommended Product (Indian Origin / Non Indian Origin)</th>
                    </tr>
                </thead>
                <tbody id='table'>

                </tbody>
                    
            </table>
        </div>

        <!-- End of Table for displaying results -->
        <!-- Start of section to display Benefits -->
        
        <div class="col-12">
            <hr>
        </div>
            
        <div class="col-12">
            <h2> Benefits Of Buying Indian Products : </h2>
        </div>
            
        
        
        <div class="col-12">
            <div><img src="pictures/graph.png" style="width: 100%; float: right; width: 33vw; margin-left: 20px"></div>
            <ul style="text-align: justify; text-justify: inter-word; list-style-position: inside;">
                
                <li>
                    If the make in India gets a boost, then the companies, whether they are of foreign origin or indian origin, will have to set up servers and 
                    headquarters here in the country itself, which will <font color='red'>keep the country's citizens' data safe.</font>
                </li>
                
                
                
                <br>
                
                <li>
                    By buying indian products, pumping of a large amount of capital into the market will occur, resulting in 
                    <font color='red'>higher market capitalisation</font> and rotation of money in the market.
                </li>
               
                
                <br>
                
                <li>
                    The ban of Chinese apps could result in a loss of <font color='red'>Millions of dollars for the Chinese</font> companies.​ But their loss is  India’s gain.
                    Homegrown tech startups view  this as an opportunity to gain traction and emerge as  better alternatives to these popular Chinese apps.
                </li>
                
                
                <br>
                
                <li>
                    Mobile app usage is expected to witness a multi-fold growth with the industry projected 
                    to contribute a whopping <font color='red'>Rs 18 Lakh Crore</font> or <font color='red'>$70.9 billion</font> to the country’s economy in the next three years. 
                </li>
               
                
            </ul>
            
        </div>
        

        <!-- End of section to display Benefits -->
         
        <div class="col-12">
            <hr>
        </div>
            

        <!-- Start of section for the speech on Unsung Heroes -->

        <div class="col-12">
            <h2><u>Unsung Heroes : The Tale of the Silent Warriors</u></h2>
        </div>
           
        
        <div class="col-12 video" align='center'>    
            <iframe src="https://www.youtube.com/embed/Pi0sHGKVqxo" allowfullscreen align='center'>

            </iframe>
        </div> 

        <!-- End of section for the speech on Unsung Heroes -->
        
        <div class="col-12">
            <hr>
        </div>
        

        <!-- Start of Footer to display Credits -->

        
            <footer style="font-family: 'Nova Mono', monospace; font-size: 0.8em;">
                <div class="col-12">
                    &copy; 2016-20 DPS Pune. All Rights Reserved.<br><br>
                    <span class="footer_cat">Scripting : </span>Shubham Sarkar, Gauri Bhasin, Tanmay Zitshi and Jasmer Sanjotra<br>
                    <span class="footer_cat">Benefits of Indian Products : </span>Atulya Sahane<br>
                    <span class="footer_cat">Data Categorising and Segregation : </span>Saahil Ahmed<br>
                    <span class="footer_cat"><u>Data Collection : </u></span><br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="footer_subcat">Garments and Footwear - </span>Mohammed Poonawala<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="footer_subcat">Apps and Software - </span>Apurwa Kanitkar and Janya Mali<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="footer_subcat">Beauty and Care - </span>Paramita Bagde<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="footer_subcat">Gadgets - </span>Aamena Mahudhawala and Riti Sinha<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="footer_subcat">Kitchen Equipment - </span>Shivani Shashidhar and Vedang Bahuguna<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="footer_subcat">Heavy Machinery - </span>Adithya Sau and Ansh Sankrityayan<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;<span class="footer_subcat">AC and Toys - </span>Kareena Tuli and Riya Bansal<br>
                    <span class="footer_cat">Unsung Heroes : </span>Rishaan Kumar, Mitul Goel, Paramita Bagde, Prisha Kabra, Manishika Goel and Apurwa Kanitkar<br>
                    <span class="footer_cat">Video Editing and Thumbnail Design : </span>Rishaan Kumar and Tanmay Zitshi
                </div>
            </footer>
        
        <!-- End of Footer to display Credits -->

        </div></div></div>

        <script>

            const server = 'https://chinalternative.herokuapp.com'
            // Variable to be used for the server

            function darkMode() {
                var element = document.body;
                element.classList.toggle("dark-mode");
            }

            category_json = {'AC': 'ac', 'Mobile Apps': 'apps', 'Beauty': 'beauty', 'Footwear': 'footwear', 
            'Gadgets': 'gadgets', 'Garments': 'garments', 'Hair Appliances': 'hair_appliances', 'Kitchen': 'kitchen', 'Machines': 'machines', 'Toys': 'toys'}
            
            // This displays the dropdown for the Categories
            const category_dropdown =document.getElementById('category')
            const options_category = ['AC', 'Mobile Apps', 'Beauty', 'Footwear', 'Gadgets', 'Garments', 'Hair Appliances', 'Kitchen', 'Machines', 'Toys']
            options_category.forEach(option => {
                element = document.createElement('option')
                element.textContent = option
                element.value = option
                category_dropdown.appendChild(element)
            })            

            dropdownNames()

            // This displays the Dropdown list after selecting the category
            const displayDropdown = document.getElementById('category')
            displayDropdown.addEventListener('change', async e => {

                dropdownNames()
            })
            
            // This displays the final table for the Products and their alternatives
            const finalTable = document.getElementById('submit')
            finalTable.addEventListener('click', async e => {
                
                tableData()

            })

            async function dropdownNames() {

                const app_dropdown = document.getElementById('app_name')
                var length = app_dropdown.options.length
                for (index = length -1; index >= 0; index--) {
                    app_dropdown.options[index] = null
                }

                const data = {}
                var category_raw = document.getElementById('category')
                var category_value = category_raw.options[category_raw.selectedIndex].text
                data.category = category_json[category_value]

                const result = await fetch(`${server}/display_dropdown`, {method: "POST", 
                headers: {"content-type": "application/json"}, body: JSON.stringify(data)})
                const json = await result.json()

                chinese_names = []
                json.forEach(pair => {
                    
                    for (var column in pair) {
                        chinese_names.push(pair[column])
                    }
                    
                })

                options_app = chinese_names
                options_app.forEach(option => {
                    element = document.createElement('option')
                    element.textContent = option
                    element.value = option
                    app_dropdown.appendChild(element)
                })
            }

            async function tableData() {
                const data = {}

                var category_raw = document.getElementById('category')
                var category_value = category_raw.options[category_raw.selectedIndex].text
                data.category = category_json[category_value]
                // Gets the value of the selected category

                var app_name_raw = document.getElementById('app_name')
                var app_name_value = app_name_raw.options[app_name_raw.selectedIndex].text
                data.app_name = app_name_value

                const table = document.getElementById('table')
                const result = await fetch(`${server}/table`, {method: "POST", 
                headers: {"content-type": "application/json"}, body: JSON.stringify(data)})
                const json = await result.json()

                table.innerHTML = ''

                json.forEach(pair => {
                    const row = document.createElement('tr')

                    for (var column in pair) {
                        const data = document.createElement('td')
                        data.textContent = pair[column]
                        row.appendChild(data)
                    }

                    table.appendChild(row)
                    
                })
            }
            
        </script>
    </body>

</html>
